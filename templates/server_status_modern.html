{% extends "base_modern.html" %}

{% block title %}Server Status - LifeOS{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">Server Status</h1>
    <p class="page-subtitle">Monitor system performance and health</p>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">
            <i data-feather="cpu"></i>
        </div>
        <div class="stat-content">
            <div class="stat-value">{{ "%.1f"|format(metrics.cpu_percent|default(0)) }}%</div>
            <div class="stat-label">CPU Usage</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">
            <i data-feather="hard-drive"></i>
        </div>
        <div class="stat-content">
            <div class="stat-value">{{ "%.1f"|format(metrics.memory_percent|default(0)) }}%</div>
            <div class="stat-label">Memory Usage</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon">
            <i data-feather="database"></i>
        </div>
        <div class="stat-content">
            <div class="stat-value">{{ "%.1f"|format(metrics.disk_percent|default(0)) }}%</div>
            <div class="stat-label">Disk Usage</div>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon green">
            <i data-feather="check-circle"></i>
        </div>
        <div class="stat-content">
            <div class="stat-value">Online</div>
            <div class="stat-label">Status</div>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">System Information</h2>
    </div>
    <div class="system-info">
        <div class="info-grid">
            <div class="info-item">
                <span class="info-label">Memory</span>
                <span class="info-value">{{ "%.1f"|format(metrics.memory_used_gb|default(0)) }}GB / {{ "%.1f"|format(metrics.memory_total_gb|default(0)) }}GB</span>
            </div>
            <div class="info-item">
                <span class="info-label">Disk</span>
                <span class="info-value">{{ "%.1f"|format(metrics.disk_used_gb|default(0)) }}GB / {{ "%.1f"|format(metrics.disk_total_gb|default(0)) }}GB</span>
            </div>
            <div class="info-item">
                <span class="info-label">Process Threads</span>
                <span class="info-value">{{ metrics.process.threads|default(0) }}</span>
            </div>
            <div class="info-item">
                <span class="info-label">Network Connections</span>
                <span class="info-value">{{ metrics.process.connections|default(0) }}</span>
            </div>
        </div>
    </div>
</div>

<style>
.system-info {
    padding: 1.5rem;
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
}

.info-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background: var(--color-gray-50);
    border-radius: 0.5rem;
}

.info-label {
    font-weight: 500;
    color: var(--text-secondary);
}

.info-value {
    font-weight: 600;
    color: var(--text-primary);
}
</style>

<script>
// Auto-refresh every 5 seconds
setInterval(() => {
    location.reload();
}, 5000);

// Initialize feather icons
feather.replace();
</script>
{% endblock %}